{erl_opts, [debug_info]}.
{deps, [
        {lager, ".*", {git, "git@github.com:basho/lager.git", {branch, "master"}}},
        {etoml, ".*", {git, "git@github.com:tkyshm/etoml.git", {branch, "add-file-api"}}}
       ]}.

{relx, [{release, {'barile', "0.1.0"},
         ['barile',
          sasl]},

        {sys_config, "./config/sys.config"},
        {vm_args, "./config/vm.args"},

        {dev_mode, true},
        {include_erts, false},

        {extended_start_script, true}]
}.

{profiles, [{test, [
                    {erl_opts, [debug_info, 
                                verbose,
                                {parse_transform, lager_transform}
                               ]},
                    {deps, [
                            {eunit_formatters, ".*", {git, "git@github.com:seancribbs/eunit_formatters.git", {branch, "master"}}},
                            {meck, ".*", {git, "https://github.com/eproxus/meck.git", {branch, "master"}}},
                            {proper, ".*", {git, "git@github.com:manopapad/proper.git", {branch, "master"}}}
                           ]}
                   ]
            },
            {prod, [
                    {erl_opts, [no_debug_info, 
                                warnings_as_errors,
                                {parse_transform, lager_transform}
                               ]},
                    {relx, [{dev_mode, false},
                            {include_erts, true}]}
                   ]
            }]
}.
